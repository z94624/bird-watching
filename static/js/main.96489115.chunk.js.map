{"version":3,"sources":["images/resetZoom.svg","reportWebVitals.js","images/logo.png","components/Header.js","Layout.js","components/Footer.js","views/Home.js","utils/ebird-ebirders.js","images/avatar1_half.JPG","images/avatar2_half.JPG","utils/ebMetadata_dataExtraction.js","hooks/useGeoLocation.js","components/ToolBox.js","images/marker-icon.png","images/ebirder.png","views/EBirdChartsMap.js","utils/tools.js","images/timeline-icon.png","images/point/point1.png","images/point/point2.png","images/point/point3.png","views/EBirdChartsTimeline.js","views/EBirdChartsChart.js","views/EBirdCharts.js","components/ScrollTopArrow.js","views/EBird.js","utils/ebEbirders_dataExtraction.js","components/YoutubeVideo.js","utils/ytVideos_dataExtraction.js","views/YouTube.js","views/Photos.js","views/Records.js","views/About.js","router.js","index.js"],"names":["_circle","_path","_path2","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","navList","to","text","Header","useState","navCollapsed","setNavCollapsed","browseHistory","useHistory","useEffect","listen","location","className","src","LogoIcon","alt","width","height","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","onClick","xmlns","fill","viewBox","d","id","map","idx","exact","activeClassName","aria-current","Layout","children","Footer","Home","infos","loadEBirdMetadataOfEBirder","avatarIndex","eBirdMetadataData_smoBEE","eBirdMetadataData_LinFenWen","dataMergedByKeys","keysToMerge","keysToCollect","keysToRemain","sort","descendingOrder","allKeys","eBirdMetadataData","mergedData","reduce","arr","ele","exist","findIndex","okEle","match","keyToMerge","JSON","stringify","matchedEle","keyToCollect","includes","Date","getTime","newEle","allKey","push","a","b","useGeoLocation","loaded","coordinates","lat","lng","setLocation","onSuccess","position","coords","latitude","longitude","onError","error","navigator","code","message","geolocation","getCurrentPosition","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgResetZoom","_ref","svgRef","title","titleId","props","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ref","cx","cy","r","ForwardRef","FullScreenButton","fullscreenHandler","enter","ResetZoomButton","handleResetZoom","markerIcon","L","Icon","iconUrl","markerImg","iconSize","iconAnchor","popupAnchor","ebirderIcon","ebirderImg","EBirdChartsMap","useFullScreenHandle","ebirderLocation","markerData","aria-labelledby","handle","MapContainer","center","zoom","style","TileLayer","attribution","url","detectRetina","Marker","icon","opacity","riseOnHover","spiderLegPolylineOptions","weight","color","mIdx","Submission_ID","Location","Time","Common_Name","Count","Latitude","Longitude","locationShort","split","datetime","birds","name","nIdx","join","Popup","maxWidth","maxHeight","closeButton","placeholder","value","disabled","htmlFor","arrayToChunks","size","chunkedArray","splice","getRandomColor","alpha","Math","floor","random","EBirdChartsTimeline","cardData","modalShow","modalInfo","setModalInfo","modalTitle","modalBody","cIdx","Number_of_Observers","Breeding_Code","Observation_Details","contentStyle","background","date","iconStyle","timelineImg","point1","point2","point3","role","names","counts","borderColors","pieData","labels","datasets","label","data","backgroundColor","replace","borderColor","borderWidth","plugins","ChartDataLabels","options","legend","display","datalabels","formatter","context","chart","dataIndex","anchor","align","offset","handleModalInfoChange","Modal","show","onHide","centered","fullscreen","scrollable","contentClassName","closeVariant","Title","Body","Chart","register","zoomPlugin","EBirdChartsChart","chartData","locations","nonDupLocations","Set","liferRawData","obj","newBS","oldBS","diffBirdSpecies","filter","nbs","dates","liferData","yAxisID","liferRef","useRef","current","resetZoom","succLocation","setSuccLocation","succLocationNum","succLocationIdx","succRawData","eleNames","eleCounts","eleName","eleCount","objCounts","Array","succBirds","succData","entries","dataset","succRef","hotRawData","fromEntries","sortObjectByValue","zhLocation","hotData","values","hotRef","mnbsEmptyData","year","mnbs","month","mnbsRawData","dateElements","parseInt","mnbsData","from","toLocaleDateString","bs","scales","yAxes","wheel","enabled","modifierKey","drag","pinch","mode","pan","limits","onChange","document","getElementById","lIdx","ticks","beginAtZero","EBirdCharts","selectedTab","setSelectedTab","activeTabName","fullWidth","variant","onSelect","e","tabName","handleSelectedTabChange","ariaControls","memo","ScrollTopArrow","showScroll","scrollToElement","EBird","drawerOpen","setDrawerOpen","storageAvatar","localStorage","getItem","setAvatarIndex","avatars","handleAvatarIndexChange","info","iIdx","toString","round","padding","eBirderInfosToRainbowAvatars","index","setItem","eBirderInfo","setShowScroll","onScroll","scrollTop","footer","header","hideCloseButton","isOpen","slideFrom","onRequestClose","classNames","YoutubeVideo","videoId","videoLid","handleVideoPlay","handleVideoStop","showVideo","setShowVideo","opts","playerVars","autoplay","controls","list","undefined","listType","onPlay","onPause","onEnd","React","createElement","backgroundImage","getItems","duplicate","chunk","items","youTubeVideosData","concat","itemsToRainbowMultiSelectOptions","labelAlignment","hideLabel","isLoading","chipVariant","showCheckbox","item","vidsToVideoCards","vids","childClassName","delay","transitionDuration","wrapperTag","childTag","visible","vid","vIdx","bird","userParameters","userDates","userLocations","userBirds","multiSelectOutputToValues","multiSelectOutput","playingVideos","YouTube","handleUserChange","filterVids","filterDates","filterLocations","filterBirds","fullVids","fullVid","fullDate","fullDates","fullLocation","fullLocations","fullBird","fullBirds","fullDateTime","booleanDate","booleanLocation","booleanBird","filterVideoCards","setVideoCards","dateRange","setDateRange","handleDateRangeChange","userDateArray","datePickerOutput","localeDateStrings","padStart","day","setLocations","listLocations","locationMultiSelect","userLocationObjects","setBirds","listBirds","birdMultiSelect","userBirdObjects","fullVideos","videoCards","latestDateYMD","latestYear","latestMonth","latestDay","pauseVideo","pauseVideos","formatStyle","isCentered","locale","maxDate","minDate","selectionType","Photos","Records","About","RootRouter","scrollIntoView","behavior","path","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.96489115.chunk.js","sourcesContent":["var _circle, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgResetZoom(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"i-zoom-reset\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 14,\n    cy: 14,\n    r: 12\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23 23 L30 30\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 12 L9 9 12 9 M16 9 L19 9 19 12 M9 16 L9 19 12 19 M19 16 L19 19 16 19\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgResetZoom);\nexport default __webpack_public_path__ + \"static/media/resetZoom.34ea8e1b.svg\";\nexport { ForwardRef as ReactComponent };","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/logo.4fc1974f.png\";","import { useState, useEffect } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nimport LogoIcon from './../images/logo.png';\r\n// ÂêÑÂàÜÈ†ÅÁöÑÂêçÁ®±ËàáË∑ØÂæë\r\nconst navList = [\r\n    // ÂëàÁèæ eBird Ëº∏Âá∫ÁöÑ MetaData\r\n\t{to: \"/bird-watching/ebird\", text: \"eBird\"},\r\n    // Â±ïÁ§∫ smoBEE Universe ÁöÑ\"Ë≥ûÈ≥•Á¥ÄÈåÑ\"Êí≠ÊîæÊ∏ÖÂñÆÊâÄÊúâÂΩ±Áâá\r\n\t{to: \"/bird-watching/youtube\", text: \"YouTube\"},\r\n    // Google Drive ‰∏≠ÁöÑÈ≥•ÁÖß\r\n\t{to: \"/bird-watching/photos\", text: \"Photos\"},\r\n    // Google Drive ‰∏≠ÁöÑÈ≥•Èü≥\r\n\t{to: \"/bird-watching/records\", text: \"Records\"},\r\n    // ÈóúÊñºÊàë\r\n    {to: \"/bird-watching/about\", text: \"About\"}\r\n];\r\n\r\nconst Header = () => {\r\n\t// ÂàÜÈ†ÅÂàóË°®ÈÅ∏ÂñÆÁöÑÈñãÂêàÁãÄÊÖã\r\n\tconst [navCollapsed, setNavCollapsed] = useState(true);\r\n    // ÂÅµÊ∏¨ÂàÜÈ†ÅËΩâÊèõ\r\n    const browseHistory = useHistory(); // ËΩâÊèõË∑ØÂæëÊ≠∑Âè≤\r\n    useEffect(() => {\r\n        // Ëã•ÊâìÈñãÂàÜÈ†ÅÂàóÂàáÊèõÈ†ÅÈù¢ÂæåÔºåÁ´ãÂç≥Êî∂ÂêàÂàÜÈ†ÅÂàó\r\n        return browseHistory.listen(location => {\r\n            setNavCollapsed(true);\r\n        });\r\n    }, [browseHistory]);\r\n\r\n\treturn (\r\n\t\t<header className=\"ps-3\">\r\n            <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n                <div className=\"container-fluid\">\r\n                    {/* Á∂≤È†ÅÂìÅÁâå */}\r\n                    <NavLink className=\"navbar-brand float-md-start\" to=\"/bird-watching\">\r\n                        <img src={LogoIcon} alt=\"Â≥∂ÁæΩ\" width=\"50\" height=\"auto\" /> {/* ÂìÅÁâåÂúñÁ§∫ */}\r\n                        <span className=\"ms-2\">Ê•ìÊ•ìËàáÂ∞èËä¨ÁöÑÂ≥∂ÁæΩ</span> {/* ÂìÅÁâåÂêçÁ®± */}\r\n                    </NavLink>\r\n                    {/* ÂàÜÈ†ÅÂàóË°®ÁöÑÂ±ïÈñãÊåâÈàï */}\r\n                    <button\r\n                        className=\"navbar-toggler\"\r\n                        type=\"button\"\r\n                        data-bs-toggle=\"collapse\"\r\n                        data-bs-target=\"#navbarTabs\"\r\n                        aria-controls=\"navbarTabs\"\r\n                        aria-expanded={navCollapsed ? false : true}\r\n                        aria-label=\"Toggle navigation\"\r\n                        onClick={() => setNavCollapsed(!navCollapsed)}\r\n                        //onMouseEnter={() => setNavCollapsed(false)}\r\n                    >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" className=\"bi bi-caret-down-fill\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\r\n                        </svg>\r\n                    </button>\r\n                    {/* ÂàÜÈ†ÅÂàóË°® */}\r\n                    <div\r\n                        className={`navbar-collapse${navCollapsed ? ' collapse' : '  collapse show'}`}\r\n                        id=\"navbarTabs\"\r\n                        //onMouseLeave={() => setNavCollapsed(true)}\r\n                    >\r\n                        <ul className=\"navbar-nav\">\r\n                        \t{navList.map(({to, text}, idx) => (\r\n                        \t\t<li key={\"navItem-\"+idx} className=\"nav-item\">\r\n                        \t\t\t<NavLink\r\n                        \t\t\t\texact\r\n                        \t\t\t\tclassName=\"nav-link\"\r\n                        \t\t\t\tactiveClassName=\"nav-link active\"\r\n                                        aria-current=\"page\"\r\n                        \t\t\t\tto={to} // ÂàÜÈ†ÅË∑ØÂæë\r\n                        \t\t\t>\r\n                        \t\t\t\t{text} {/* ÂàÜÈ†ÅÂêçÁ®± */}\r\n                        \t\t\t</NavLink>\r\n                        \t\t</li>\r\n                    \t\t))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import { Fragment } from 'react';\r\n\r\nimport Header from './components/Header';\r\n\r\nconst Layout = ({children}) => {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className=\"h-100 bg-dark text-center\">\r\n            \t<div className=\"cover-container d-flex h-100 p-0 flex-column\">\r\n\t\t\t\t\t<Header className=\"fixed-top\" /> {/* ÊØèÂÄãÂàÜÈ†ÅÈÉΩË¶ÅÊúâÈÄîÂæëËΩâÊèõËá≥ÂÖ∂‰ªñÂàÜÈ†Å */}\r\n\t\t\t\t\t{children} {/* ÊØèÂÄãÂàÜÈ†ÅÁöÑÈ†ÅÈù¢ */}\r\n\t\t\t\t</div>\r\n        \t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default Layout;\r\n","const Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"pt-3 text-white-50\">\r\n            <p>Copyright ¬© 2021 - 2022 By Ëä¨Â≥ØÊãâÊ≥°Ê®Ç</p>\r\n        </footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import { NavLink } from 'react-router-dom';\n\nimport Footer from './../components/Footer';\nimport './Home.css';\n\nconst Home = () => {\n    return (\n        <main>\n            <div className=\"main-home d-flex align-items-center justify-content-center\">\n                <NavLink to=\"/bird-watching/youtube\" className=\"btn btn-lg fw-bold btn-outline-light\">ÈÄ≤ÂÖ•ÁæΩÂÆô</NavLink>\n            </div>\n\n            <Footer />\n        </main>\n    );\n}\n\nexport default Home;\n","import avatar1 from './../images/avatar1_half.JPG';\r\nimport avatar2 from './../images/avatar2_half.JPG';\r\n// eBirders ÂÄã‰∫∫È†ÅÈù¢ÊâÄÊúâÂÄãË≥á\r\nexport const infos = [\r\n\t{\r\n\t\t\"name\": \"ÈªÉÂÅ•Â≥Ø\",\r\n\t\t\"country\": \"Taiwan\",\r\n\t\t\"signUp\": \"2020/09/29\",\r\n\t\t\"firstRecord\": \"2020/08/29\",\r\n\t\t\"firstMedia\": \"2021/02/06\",\r\n\t\t\"url\": \"https://ebird.org/profile/MTg1MTc2NQ\",\r\n\t\t\"speciesRecorded\": 153,\r\n\t\t\"listsRecorded\": 217,\r\n\t\t\"speciesImaged\": 103,\r\n\t\t\"speciesTaped\": 0,\r\n\t\t\"avatar\": avatar1\r\n\t},\r\n\t{\r\n\t\t\"name\": \"ÊûóËä¨ÈõØ\",\r\n\t\t\"country\": \"Taiwan\",\r\n\t\t\"signUp\": \"2019/10/24\",\r\n\t\t\"firstRecord\": \"2019/10/17\",\r\n\t\t\"firstMedia\": \"2021/01/24\",\r\n\t\t\"url\": \"https://ebird.org/profile/MTQ1NjU5OQ\",\r\n\t\t\"speciesRecorded\": 183,\r\n\t\t\"listsRecorded\": 206,\r\n\t\t\"speciesImaged\": 4,\r\n\t\t\"speciesTaped\": 0,\r\n\t\t\"avatar\": avatar2\r\n\t}\r\n];\r\n","export default __webpack_public_path__ + \"static/media/avatar1_half.a80f1f9e.JPG\";","export default __webpack_public_path__ + \"static/media/avatar2_half.f87680b8.JPG\";","import eBirdMetadataData_smoBEE from './ebird-metadata_smoBEE.json';\r\nimport eBirdMetadataData_LinFenWen from './ebird-metadata_lin-fen-wen.json';\r\n/*\r\n * ËÆÄÂèñ ebirder Ë≥áÊñô\r\n * avatarIndex: ebirder Á∑®Ëôü\r\n */\r\nconst loadEBirdMetadataOfEBirder = avatarIndex => {\r\n\tswitch (avatarIndex) {\r\n\t\tcase 0:\r\n\t\t\treturn eBirdMetadataData_smoBEE;\r\n\t\tcase 1:\r\n\t\t\treturn eBirdMetadataData_LinFenWen;\r\n\t\tdefault:\r\n\t\t\treturn eBirdMetadataData_smoBEE;\r\n\t}\r\n}\r\n/*\r\n * ‰æùÁÖßÊ¨≤Âêà‰ΩµÊ¨Ñ‰ΩçÂêà‰ΩµË≥ûÈ≥•Ë≥áÊñô\r\n * keysToMerge: ‰æùÊìöÊ¨Ñ‰Ωç\r\n * keysToCollect: Âêà‰ΩµÊ¨Ñ‰Ωç\r\n * keysToRemain: ‰øùÁïôÊ¨Ñ‰Ωç\r\n */\r\nexport const dataMergedByKeys = (avatarIndex, keysToMerge, keysToCollect, keysToRemain, sort, descendingOrder=true) => {\r\n\t// ÊâÄÊúâÊ¨Ñ‰Ωç\r\n\tlet allKeys = [...keysToMerge, ...keysToCollect, ...keysToRemain];\r\n\t// ‰ΩøÁî® ebirder Ë≥áÊñô\r\n\tlet eBirdMetadataData = loadEBirdMetadataOfEBirder(avatarIndex);\r\n\tlet mergedData = eBirdMetadataData.reduce((arr, ele) => { // EXCEL ÁöÑÊØèÂàóË≥áÊñô\r\n\t\tlet exist = arr.findIndex(okEle => { // ÊòØÂê¶ÊúâÁõ∏Âêå‰æùÊìöÊ¨Ñ‰ΩçË≥áÊñô\r\n\t\t\tlet match = true;\r\n\t\t\tfor (let keyToMerge of keysToMerge) { // ÊØèÂÄã‰æùÊìöÊ¨Ñ‰ΩçÈÉΩË¶ÅÁõ∏Âêå\r\n\t\t\t\tif (JSON.stringify(ele[keyToMerge]) !== JSON.stringify(okEle[keyToMerge])) {\r\n\t\t\t\t\tmatch = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn match;\r\n\t\t});\r\n\r\n\t\tif (exist !== -1) { // Ëã•Â≠òÂú®Âç≥Âêà‰Ωµ\r\n\t\t\tlet matchedEle = arr[exist];\r\n\t\t\tfor (let keyToCollect of keysToCollect) { // ÊØèÂÄãÂêà‰ΩµÊ¨Ñ‰Ωç\r\n\t\t\t\tmatchedEle[keyToCollect] = [...matchedEle[keyToCollect], ...ele[keyToCollect]];\r\n\t\t\t}\r\n\t\t\tif (sort && allKeys.includes(\"Date\")) { // ÁÇ∫‰∫Ü‰æùÊó•ÊúüÊôÇÈñìÊéíÂ∫è\r\n\t\t\t\tmatchedEle[\"datetime\"] = [`${ele[\"Date\"]} ${ele[\"Time\"]}`];\r\n\t\t\t\tmatchedEle[\"milliTime\"] = [new Date(`${ele[\"Date\"]} ${ele[\"Time\"]}`).getTime()];\r\n\t\t\t}\r\n\t\t} else { // Ëã•‰∏çÂ≠òÂú®Âç≥Êñ∞Â¢û\r\n\t\t\tlet newEle = {};\r\n\t\t\tfor (let allKey of allKeys) { // Âè™‰øùÁïôÈúÄË¶ÅÁöÑÊ¨Ñ‰Ωç\r\n\t\t\t\tnewEle[allKey] = ele[allKey];\r\n\t\t\t}\r\n\t\t\tif (sort && allKeys.includes(\"Date\")) { // ÁÇ∫‰∫Ü‰æùÊó•ÊúüÊôÇÈñìÊéíÂ∫è\r\n\t\t\t\tnewEle[\"datetime\"] = [`${ele[\"Date\"]} ${ele[\"Time\"]}`];\r\n\t\t\t\tnewEle[\"milliTime\"] = [new Date(`${ele[\"Date\"]} ${ele[\"Time\"]}`).getTime()];\r\n\t\t\t}\r\n\t\t\tarr.push(newEle);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}, []);\r\n\t// Ëã•Ë¶Å‰æùÊó•ÊúüÊôÇÈñìÊéíÂ∫è\r\n\tif (sort) {\r\n\t\tif (descendingOrder) { // ÈôçÂÜ™\r\n\t\t\tmergedData.sort((a, b) => a[\"milliTime\"][0] < b[\"milliTime\"][0] ? 1 : -1);\r\n\t\t} else { // ÂçáÂÜ™\r\n\t\t\tmergedData.sort((a, b) => a[\"milliTime\"][0] > b[\"milliTime\"][0] ? 1 : -1);\r\n\t\t}\r\n\t}\r\n\treturn mergedData;\r\n}","import { useState, useEffect } from 'react';\r\n\r\nconst useGeoLocation = () => {\r\n\t// ‰ΩøÁî®ËÄÖÂ∫ßÊ®ôË≥áË®ä\r\n\tconst [location, setLocation] = useState({\r\n\t\tloaded: false, // ËôïÁêÜÁãÄÊÖã\r\n\t\tcoordinates: {lat: \"\", lng: \"\"} // Â∫ßÊ®ô\r\n\t});\r\n\t// ÊàêÂäü\r\n\tconst onSuccess = position => {\r\n\t\tsetLocation({ // ‰øÉ‰Ωø EBirdChartsMap.js ËΩâË≠ØÁ¨¨‰∫åÊ¨°\r\n\t\t\tloaded: true,\r\n\t\t\tcoordinates: {\r\n\t\t\t\tlat: position.coords.latitude,\r\n\t\t\t\tlng: position.coords.longitude\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// Â§±Êïó\r\n\tconst onError = error => {\r\n\t\tsetLocation({\r\n\t\t\tloaded: true,\r\n\t\t\terror\r\n\t\t});\r\n\t}\r\n\t// Á≠âÂæÖ EBirdChartsMap.js ËΩâË≠ØÁ¨¨‰∏ÄÊ¨°ÂæåÂÜçÂü∑Ë°å\r\n\tuseEffect(() => {\r\n\t\t// ÂÅµÊ∏¨ÂÖÅ‰∏çÂÖÅË®±Â≠òÂèñ‰ΩçÁΩÆ\r\n\t\tif (!(\"geolocation\" in navigator)) {\r\n\t\t\tonError({\r\n\t\t\t\tcode: 0,\r\n\t\t\t\tmessage: \"Geolocation not supported\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t// ÂÖÅË®±ÁöÑË©±ÔºåÂòóË©¶ÂèñÂæó‰ΩçÁΩÆ\r\n\t\tnavigator.geolocation.getCurrentPosition(onSuccess, onError);\r\n\t}, []);\r\n\r\n\treturn location;\r\n}\r\n\r\nexport default useGeoLocation;\r\n","import './ToolBox.css';\r\n\r\nimport { ReactComponent as ResetZoom } from './../images/resetZoom.svg';\r\n/*\r\n * ÂÖ®Ëû¢ÂπïÊåâÈàï\r\n * fullscreenHandler: 'react-full-screen'\r\n */\r\nexport const FullScreenButton = ({fullscreenHandler}) => {\r\n\treturn (\r\n\t\t<button type=\"button\" className=\"fullscreenBtn toolbox btn-light rounded\" onClick={fullscreenHandler.enter}>\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-fullscreen\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t<path d=\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\"/>\r\n\t\t\t</svg>\r\n\t\t</button>\r\n\t);\r\n}\r\n/*\r\n * ÊÅ¢Âæ©Á∏ÆÊîæÊåâÈàï\r\n * handleResetZoom: 'chartjs-plugin-zoom'\r\n */\r\nexport const ResetZoomButton = ({handleResetZoom}) => {\r\n\treturn (\r\n\t\t<button type=\"button\" className=\"resetZoomBtn toolbox btn-light rounded\" onClick={handleResetZoom}>\r\n\t\t\t<ResetZoom width=\"16\" height=\"16\" />\r\n\t\t</button>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/marker-icon.16762ddc.png\";","export default __webpack_public_path__ + \"static/media/ebirder.53c42286.png\";","// FIX: https://stackoverflow.com/questions/67552020/how-to-fix-error-failed-to-compile-node-modules-react-leaflet-core-esm-pat\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\n\r\nimport { dataMergedByKeys } from './../utils/ebMetadata_dataExtraction';\r\nimport useGeoLocation from './../hooks/useGeoLocation';\r\nimport { FullScreenButton } from './../components/ToolBox';\r\nimport './css/birdLoader.css';\r\n// Âú∞ÂúñÂúñÈáò\r\nimport markerImg from './../images/marker-icon.png';\r\n//import markerShadowImg from './../images/leaflet/marker-shadow.png';\r\n// eBirder ÂúñÁ§∫\r\nimport ebirderImg from './../images/ebirder.png';\r\n// Âú∞ÂúñÂúñÈáòÂúñÁâáËΩâÊèõÊàê Leaflet Ê†ºÂºè\r\nconst markerIcon = new L.Icon({\r\n\ticonUrl: markerImg, // ÂúñÈáò\r\n\t//shadowUrl: markerShadowImg, // Èô∞ÂΩ±\r\n\ticonSize:     [36, 45], // size of the icon\r\n    //shadowSize:   [45, 45], // size of the shadow\r\n    iconAnchor:   [18, 45], // point of the icon which will correspond to marker's location\r\n    //shadowAnchor: [15, 45],  // the same for the shadow\r\n    popupAnchor:  [1, -34] // point from which the popup should open relative to the iconAnchor\r\n});\r\n// ‰ΩøÁî®ËÄÖÂú®Âú∞Âúñ‰∏äÈ°ØÁ§∫\r\nconst ebirderIcon = new L.Icon({\r\n\ticonUrl: ebirderImg,\r\n\ticonSize:     [68, 50],\r\n    iconAnchor:   [34, 50]\r\n});\r\n\r\nconst EBirdChartsMap = ({ avatarIndex }) => {\r\n\t// ÂÖ®Ëû¢ÂπïËôïÁêÜÂô®\r\n\tconst fullscreenHandler = useFullScreenHandle();\r\n\t// ‰ΩøÁî®ËÄÖÂ∫ßÊ®ô\r\n\tconst location = useGeoLocation();\r\n\tconst loaded = location.loaded;\r\n\tconst ebirderLocation = [location.coordinates.lat, location.coordinates.lng];\r\n\t// ÂúñÈáòÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet markerData = dataMergedByKeys(avatarIndex, [\"Submission_ID\"], [\"Common_Name\", \"Count\"], [\"Location\", \"Date\", \"Time\", \"Latitude\", \"Longitude\"], false);\r\n\r\n\treturn (\r\n\t\t<div id=\"mapTab\" aria-labelledby=\"map\">\r\n\t\t\t{/* ÂÖ®Ëû¢ÂπïÊåâÈàï */}\r\n\t\t\t<FullScreenButton fullscreenHandler={fullscreenHandler} />\r\n\t\t\t{/* Âú∞ÂúñÂÆπÂô® */}\r\n\t\t\t<div id=\"birdMap\">\r\n\t\t\t{loaded ?\r\n\t\t\t\t<FullScreen handle={fullscreenHandler}>\r\n\t\t\t\t\t<MapContainer\r\n\t\t\t\t\t\tcenter={ebirderLocation} // Âú∞ÂúñÈ†êË®≠‰∏≠ÂøÉ\r\n\t\t\t\t\t\tzoom={10} // ÊîæÂ§ßÂÄçÁéá\r\n\t\t\t\t\t\tstyle={{width: '100%', height: '100%'}} // ÂøÖË®≠ÔºåÈ†êË®≠È´òÂ∫¶ 0\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* Used to load and display tile layers on the map. */}\r\n\t\t\t\t\t\t<TileLayer\r\n\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://ebird.org/profile/MTg1MTc2NQ\">ÈªÉÂÅ•Â≥Ø</a>/<a href=\"https://ebird.org/profile/MTQ1NjU5OQ/TW\">ÊûóËä¨ÈõØ</a> contributor' // ÁâàÊ¨ä\r\n\t\t\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n\t\t\t\t\t\t\tdetectRetina={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* Ê®ôÁ§∫‰ΩøÁî®ËÄÖÂ∫ßÊ®ô */}\r\n\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\tposition={ebirderLocation}\r\n\t\t\t\t\t\t\t\ticon={ebirderIcon}\r\n\t\t\t\t\t\t\t\ttitle=\"Êàë\"\r\n\t\t\t\t\t\t\t\talt=\"üê•\"\r\n\t\t\t\t\t\t\t\topacity={1}\r\n\t\t\t\t\t\t\t\triseOnHover={true}\r\n\t\t\t\t\t\t\t></Marker>\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t  * ÂúñÈáòÁæ§ÁµÑÔºöÁõ∏ÈÑ∞ÊàñÈáçË§áÁöÑÂ£ìÁ∏ÆËÄå‰∏çÈáçÁñä\r\n\t\t\t\t\t\t  * Â∞ë(Á∂†)/‰∏≠(ÈªÉ)/Â§ö(Á¥Ö)Ôºö10 ~ 100\r\n\t\t\t\t\t\t  */}\r\n\t\t\t\t\t\t<MarkerClusterGroup\r\n\t\t\t\t\t\t\tkey={avatarIndex} // The cluster to be completely rerendered = clear all old markers.\r\n\t\t\t\t\t\t\tspiderLegPolylineOptions={{\r\n\t\t\t\t\t\t\t\tweight: 1.5,\r\n\t\t\t\t\t\t\t\tcolor: '#ab0047',\r\n\t\t\t\t\t\t\t\topacity: 0.7\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* ÂúñÈáò */}\r\n\t\t\t\t\t\t{markerData.map(({Submission_ID, Location, Date, Time, Common_Name, Count, Latitude, Longitude}, mIdx) => {\r\n\t\t\t\t\t\t\tlet location = Location[0];\r\n\t\t\t\t\t\t\tlet locationShort = location.split(\"(\")[0];\r\n\t\t\t\t\t\t\tlet datetime = `${Date[0]} ${Time[0]}`;\r\n\t\t\t\t\t\t\tlet position = [Latitude[0], Longitude[0]];\r\n\t\t\t\t\t\t\tlet birds = Common_Name.map((name, nIdx) => [name, Count[nIdx]]).join(`\\n`);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\t\tkey={`ebMarker-${mIdx}`}\r\n\t\t\t\t\t\t\t\t\tposition={position} // Â∫ßÊ®ô\r\n\t\t\t\t\t\t\t\t\ticon={markerIcon} // ÂúñÁ§∫\r\n\t\t\t\t\t\t\t\t\ttitle={locationShort} // Tooltip\r\n\t\t\t\t\t\t\t\t\talt=\"üê•\" // ÂúñÁ§∫Êõø‰ª£ÊñáÂ≠ó\r\n\t\t\t\t\t\t\t\t\topacity={0.9} // ÂúñÈáòÈÄèÊòéÂ∫¶\r\n\t\t\t\t\t\t\t\t\triseOnHover={true} // ÊµÆÂá∫Ëá≥ÊúÄÂâç\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* ÂΩàÂá∫Ë™™Êòé */}\r\n\t\t\t\t\t\t\t\t\t<Popup\r\n\t\t\t\t\t\t\t\t\t\tmaxWidth={200} // Âõ∫ÂÆöÂØ¨Â∫¶\r\n\t\t\t\t\t\t\t\t\t\tmaxHeight={300} // ÊúÄÂ§ßÈ´òÂ∫¶ÔºåË∂ÖÈÅéÂâá Scrollable\r\n\t\t\t\t\t\t\t\t\t\tcloseButton={false} // ÊâìÂèâÂèâÈóúÈñâ\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{/* Âú∞Èªû */}\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"fs-5 fw-bold text-decoration-underline my-0\">{location}</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* ÊôÇÈñì */}\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"fs-6 my-1\">{datetime}</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* È≥•Á®Æ */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-floating\">\r\n\t\t\t\t\t\t\t\t\t\t\t<textarea id={Submission_ID} className=\"form-control\" placeholder=\"ÁÑ°È≥•Á®Æ\" value={birds} style={{height: \"135px\"}} disabled></textarea>\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={Submission_ID}>È≥•Á®Æ</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</MarkerClusterGroup>\r\n\t\t\t\t\t</MapContainer>\r\n\t\t\t\t</FullScreen>\r\n\t\t\t:\r\n\t\t\t\t<div className=\"text-white d-flex flex-column justify-content-center align-items-center h-100 fs-1\">\r\n\t\t\t\t\t<div className=\"bird-loader\">\r\n\t\t\t\t\t\t<div className=\"bird-head\"></div>\r\n\t\t\t\t\t\t<div className=\"bird-face\"></div>\r\n\t\t\t\t\t\t<div className=\"bird-eye\"></div>\r\n\t\t\t\t\t\t<div className=\"bird-cheek\"></div>\r\n\t\t\t\t\t\t<div className=\"bird-upper-mouth\"></div>\r\n\t\t\t\t\t\t<div className=\"bird-lower-mouth\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>Á≠âÂæÖÂÆö‰Ωç‰∏≠...</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EBirdChartsMap;\r\n","/*\r\n * Áâ©‰ª∂‰æùÁÖß value ÊéíÂ∫è\r\n * obj: value ÁÇ∫ÂèØÊéíÂ∫èÂÄº\r\n * Ëº∏Âá∫ÔºöÊéíÂ∫èÂæåÁâ©‰ª∂\r\n */\r\nexport const sortObjectByValue = (obj, descendingOrder=true) => {\r\n    if (descendingOrder) {\r\n        return Object.fromEntries(Object.entries(obj).sort((a, b) => b[1] - a[1]));\r\n    } else {\r\n        return Object.fromEntries(Object.entries(obj).sort((a, b) => a[1] - b[1]));\r\n    }\r\n}\r\n/*\r\n * Èô£ÂàóÂÖÉÁ¥†ÂàÜÁµÑ\r\n * arr: ‰∏ÄÈöéÈô£Âàó\r\n * size: ÊØèÁµÑÂÖÉÁ¥†ÂÄãÊï∏\r\n * Ëº∏Âá∫Ôºö‰∫åÈöéÈô£Âàó\r\n */\r\nexport const arrayToChunks = (arr, size) => {\r\n\tvar chunkedArray = [];\r\n\twhile (arr.length) {\r\n\t\tchunkedArray.push(arr.splice(0, size));\r\n\t}\r\n\treturn chunkedArray;\r\n}\r\n/*\r\n * Èö®Ê©üÈ°èËâ≤\r\n * alpha: ÈÄèÊòéÂ∫¶\r\n */\r\nexport const getRandomColor = (alpha=1) => {\r\n    return \"rgba(\" + Math.floor(Math.random() * 255) + \",\" + Math.floor(Math.random() * 255) + \",\" + Math.floor(Math.random() * 255) + \",\" + alpha + \")\";\r\n };","export default __webpack_public_path__ + \"static/media/timeline-icon.5b0ecd5b.png\";","export default __webpack_public_path__ + \"static/media/point1.e4e00c55.png\";","export default __webpack_public_path__ + \"static/media/point2.c2efd565.png\";","export default __webpack_public_path__ + \"static/media/point3.2432f373.png\";","import { useState } from 'react';\r\n\r\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nimport { dataMergedByKeys } from './../utils/ebMetadata_dataExtraction';\r\nimport { getRandomColor } from './../utils/tools';\r\n// ÊôÇÈñìËª∏ÁØÄÈªûÂúñÁ§∫\r\nimport timelineImg from './../images/timeline-icon.png';\r\n// Á¨¨ ? Èªû\r\nimport point1 from './../images/point/point1.png';\r\nimport point2 from './../images/point/point2.png';\r\nimport point3 from './../images/point/point3.png';\r\n\r\nconst EBirdChartsTimeline = ({ avatarIndex }) => {\r\n\t// Ë≥áË®äÂç°ÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet cardData = dataMergedByKeys(avatarIndex, [\"Submission_ID\"], [\"Common_Name\", \"Count\"], [\"Location\", \"Date\", \"Time\", \"Number_of_Observers\", \"Breeding_Code\", \"Observation_Details\"], true);\r\n\t// È≥•Á®ÆÂúìÈ§ÖÂúñ Modal\r\n\tconst [modalInfo, setModalInfo] = useState({modalShow: false});\r\n\tconst {modalShow, modalTitle, modalBody} = modalInfo; // Modal ÁãÄÊÖãËàáÂÖßÂÆπ\r\n\tconst handleModalClose = () => setModalInfo({ // Modal ÈóúÈñâ\r\n\t\t...modalInfo,\r\n\t\tmodalShow: false\r\n\t});\r\n\tconst handleModalInfoChange = (location, datetime, names, counts) => { // ËÆäÊõ¥ Modal ÂÖßÂÆπ\r\n\t\tlet borderColors = names.reduce((arr) => {\r\n\t\t\treturn [...arr, getRandomColor()];\r\n\t\t}, []);\r\n\t\tlet backgroundColors = borderColors.reduce((arr, ele) => {\r\n\t\t\treturn [...arr, ele.replace(\",1)\", \",.2)\")];\r\n\t\t}, []);\r\n\t\t// ÂúìÈ§ÖÂúñË≥áÊñô\r\n\t\tconst pieData = {\r\n\t\t\tlabels: names,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"È≥•Á®ÆÂúìÈ§ÖÂúñ\",\r\n\t\t\t\t\tdata: counts,\r\n\t\t\t\t\tbackgroundColor: backgroundColors,\r\n\t\t\t\t\tborderColor: borderColors,\r\n\t\t\t\t\tborderWidth: 2\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t\tconst pieOptions = {\r\n\t\t\tplugins: {\r\n\t\t\t\tlegend: { // Âúñ‰æã\r\n\t\t\t\t\tdisplay: false\r\n\t\t\t\t},\r\n\t\t\t\tdatalabels: { // ÂçÄÂ°äÂêçÁ®±\r\n\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\tformatter: (value, context) => {\r\n\t\t\t\t\t\treturn `${context.chart.data.labels[context.dataIndex]}`;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tanchor: 'end',\r\n\t\t\t\t\talign: 'start',\r\n\t\t\t\t\toffset: 10\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Êõ¥ÊèõÊàêË©≤Á≠ÜËßÄÂØüË≥áÊñô\r\n\t\tsetModalInfo({\r\n\t\t\t...modalInfo,\r\n\t\t\tmodalShow: true,\r\n\t\t\tmodalTitle: <h4>{location.split('(')[0]}<sub className=\"text-muted\">({datetime})</sub></h4>,\r\n\t\t\tmodalBody: <Pie data={pieData} plugins={[ChartDataLabels]} options={pieOptions} />\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div id=\"timelineTab\" aria-labelledby=\"timeline\">\r\n\t\t\t{/* ÊôÇÈñìÁ∑ö */}\r\n\t\t\t<VerticalTimeline>\r\n\t\t\t{/* Ë≥áË®äÂç° */}\r\n\t\t\t{cardData.map(({Submission_ID, Date, Time, datetime, Location, Number_of_Observers, Common_Name, Count, Breeding_Code, Observation_Details}, cIdx) => (\r\n\t\t\t\t<VerticalTimelineElement\r\n\t\t\t\t\tkey={`ebCard-${cIdx}`}\r\n\t\t\t\t\tcontentStyle={{ background: 'rgba(255, 255, 255, .1)', color: '#fff' }}// ÂÖßÂÆπÁÆ≠È†≠Ê®£Âºè\r\n    \t\t\t\tdate={datetime} // ÊôÇÈñìÈªû\r\n    \t\t\t\ticonStyle={{ background: '#fff' }} // ÁØÄÈªûÊ®£Âºè\r\n    \t\t\t\ticon={(<img className=\"timelineNodeIcon\" src={timelineImg} alt=\"\" />)} // ÁØÄÈªûÂúñÁ§∫\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* Âú∞Èªû */}\r\n\t\t\t\t\t<h5>„Äê{Location}„Äë</h5>\r\n\t\t\t\t\t{/* È°çÂ§ñË≥áË®ä */}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-around\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img className=\"point me-2\" src={point1} alt=\"‚Ä¢\" />\r\n\t\t\t\t\t\t\t<span className=\"align-middle\">‰∫∫Êï∏Ôºö{Number_of_Observers}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img className=\"point me-2\" src={point2} alt=\"‚Ä¢\" />\r\n\t\t\t\t\t\t\t<span className=\"align-middle\">Ë°åÁÇ∫Ôºö{Breeding_Code && \"ÁÑ°\"}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img className=\"point me-2\" src={point3} alt=\"‚Ä¢\" />\r\n\t\t\t\t\t\t\t<span className=\"align-middle\">Á¥ÄÈåÑÔºö{Observation_Details && \"ÁÑ°\"}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* È≥•Á®Æ */}\r\n\t\t\t\t\t<div className=\"btn-group btn-group-sm timelineBirdBtnGroup mt-2\" role=\"group\">\r\n\t\t\t\t\t{Common_Name.map((name, nIdx) => (\r\n\t\t\t\t\t\t<button key={`ebBird-${nIdx}`} type=\"button\" className=\"btn btn-outline-info\">{`${name}(${Count[nIdx]})`}</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{/* È≥•Á®ÆÂúìÈ§ÖÂúñ Modal ÊåâÈàï */}\r\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-warning\" onClick={() => {handleModalInfoChange(Location[0], datetime, Common_Name, Count)}}>È≥•Á®ÆÂúìÈ§ÖÂúñ</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</VerticalTimelineElement>\r\n\t\t\t))}\r\n\t\t\t</VerticalTimeline>\r\n\t\t\t{/* È≥•Á®ÆÂúìÈ§ÖÂúñ Modal */}\r\n\t\t\t<Modal\r\n\t\t\t\tshow={modalShow}\r\n\t\t\t\tonHide={handleModalClose}\r\n\t\t\t\tcentered // ÂûÇÁõ¥ÁΩÆ‰∏≠\r\n\t\t\t\tfullscreen={false} // true,sm-down,md-down,lg-down,xl-down,xxl-down\r\n\t\t\t\tscrollable={false} // Allows scrolling the <Modal.Body> instead of the entire Modal when overflowing.\r\n\t\t\t\tcontentClassName=\"bg-dark text-white\" // ÊöóËâ≤Á≥ªËÉåÊôØ\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton closeVariant=\"white\">\r\n\t\t\t\t\t<Modal.Title>{modalTitle}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>{modalBody}</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EBirdChartsTimeline;\r\n","import { useState, useRef } from 'react';\r\n\r\nimport { Chart, Line, Bar } from 'react-chartjs-2';\r\nimport zoomPlugin from 'chartjs-plugin-zoom';\r\n\r\nimport { dataMergedByKeys } from './../utils/ebMetadata_dataExtraction';\r\nimport { sortObjectByValue, getRandomColor } from './../utils/tools';\r\nimport { ResetZoomButton } from './../components/ToolBox';\r\n\r\nChart.register(zoomPlugin);\r\n\r\nconst EBirdChartsChart = ({ avatarIndex }) => {\r\n\t// ÂúñË°®ÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet chartData = dataMergedByKeys(avatarIndex, [\"Submission_ID\"], [\"Common_Name\", \"Count\"], [\"Date\", \"Time\", \"Location\"], true, false);\r\n\t//console.log(chartData);\r\n\t// (ÈáçË§á)ÊâÄÊúâÂú∞Èªû\r\n\tlet locations = chartData.reduce((arr, ele) => {\r\n\t\treturn [...arr, ele[\"Location\"][0]];\r\n\t}, []);\r\n\t// (‰∏çÈáçË§á)ÊâÄÊúâÂú∞Èªû\r\n\tlet nonDupLocations = [...new Set(locations)];\r\n\t// Lifer ÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet liferRawData = chartData.reduce((obj, ele, idx) => {\r\n\t\tlet newBS = ele[\"Common_Name\"];\r\n\t\tlet oldBS = obj[\"birdSpecies\"];\r\n\t\t// Ë©≤Á≠ÜÂá∫ÁèæÊñ∞Á¥ÄÈåÑÈ≥•Á®Æ\r\n\t\tlet diffBirdSpecies = newBS.filter(nbs => !oldBS.includes(nbs));\r\n\t\tobj[\"birdSpecies\"] = [...oldBS, ...diffBirdSpecies];\r\n\t\tobj[\"accuBirdNumbers\"] = [...obj[\"accuBirdNumbers\"], oldBS.length+diffBirdSpecies.length];\r\n\t\tobj[\"diffBirdNumbers\"] = [...obj[\"diffBirdNumbers\"], diffBirdSpecies.length];\r\n\t\tobj[\"eachBirdNumbers\"] = [...obj[\"eachBirdNumbers\"], newBS.length];\r\n\t\tobj[\"dates\"] = [...obj[\"dates\"], ele[\"Date\"]];\r\n\t\treturn obj;\r\n\t}, {\"birdSpecies\": [], \"accuBirdNumbers\": [], \"diffBirdNumbers\": [], \"eachBirdNumbers\": [], \"dates\": []});\r\n\t// ÊâÄÊúâÊó•Êúü\r\n\tlet dates = liferRawData[\"dates\"];\r\n\t// Lifer ÂúñË°®Ë≥áÊñô\r\n\tlet liferData = {\r\n\t\tlabels: dates, // x-axis\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: \"ÁîüÊ∂ØÈ≥•Á®Æ\",\r\n\t\t\t\tdata: liferRawData[\"accuBirdNumbers\"], // y-axis\r\n\t\t\t\tfill: \"start\", // Â°óÊªøÈ¢®Ê†ºÔºõstart, end, origin\r\n\t\t\t\tbackgroundColor: \"rgba(255, 99, 132, .1)\",\r\n\t\t\t\tborderColor: \"rgba(255, 99, 132, 1)\",\r\n\t\t\t\tyAxisID: \"y-axis-1\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: \"Ëß£ÈéñÈ≥•Á®Æ\",\r\n\t\t\t\tdata: liferRawData[\"diffBirdNumbers\"], // y-axis\r\n\t\t\t\tfill: \"start\", // Â°óÊªøÈ¢®Ê†ºÔºõstart, end, origin\r\n\t\t\t\tbackgroundColor: \"rgba(115, 234, 255, .1)\",\r\n\t\t\t\tborderColor: \"rgba(115, 234, 255, 1)\",\r\n\t\t\t\tyAxisID: \"y-axis-2\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: \"ËßÄÂØüÈ≥•Á®Æ\",\r\n\t\t\t\tdata: liferRawData[\"eachBirdNumbers\"], // y-axis\r\n\t\t\t\tfill: \"start\", // Â°óÊªøÈ¢®Ê†ºÔºõstart, end, origin\r\n\t\t\t\tbackgroundColor: \"rgba(149, 255, 146, .1)\",\r\n\t\t\t\tborderColor: \"rgba(149, 255, 146, 1)\",\r\n\t\t\t\tyAxisID: \"y-axis-2\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t// Lifer ÂúñË°®Ë®≠ÂÆö\r\n\tlet liferOptions = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"linear\",\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tid: \"y-axis-1\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"linear\",\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tid: \"y-axis-2\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tplugins: {\r\n\t\t\tzoom: {\r\n\t\t\t\tzoom: {\r\n\t\t\t\t\twheel: { // Mouse wheel\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tmodifierKey: 'ctrl' // Modifier key required for zooming via mouse wheel\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrag: { // Drag-to-zoom\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tborderColor: 'white',\r\n\t\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpinch: { // pinch\r\n\t\t\t\t\t\tenabled: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmode: 'x' // Allowed zoom directionsÔºõx, y, xy\r\n\t\t\t\t},\r\n\t\t\t\tpan: {},\r\n\t\t\t\tlimits: {}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// lifer ÈáçË®≠Á∏ÆÊîæ\r\n\tconst liferRef = useRef(null);\r\n\tconst handleResetZoom = ref => {\r\n\t\tref.current.resetZoom();\r\n\t}\r\n\t// Succession Âú∞Èªû\r\n\tconst [succLocation, setSuccLocation] = useState(nonDupLocations[0]);\r\n\tconst handleSuccLocationChange = () => {\r\n\t\tsetSuccLocation(document.getElementById(\"succLocationSelect\").value);\r\n\t}\r\n\t// Ë©≤Âú∞ÈªûÁ≠ÜÊï∏\r\n\tlet succLocationNum = locations.filter(location => location === succLocation).length;\r\n\t// Succession ÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet succLocationIdx = 0; // Ë©≤Âú∞ÈªûÁ¨¨ÂπæÁ≠Ü\r\n\tlet succRawData = chartData.reduce((obj, ele) => {\r\n\t\tlet eleLocation = ele[\"Location\"][0];\r\n\t\tif (eleLocation === succLocation) { // Ë©≤Âú∞Èªû\r\n\t\t\tsuccLocationIdx += 1;\r\n\t\t\tobj[\"dates\"] = [...obj[\"dates\"], ele[\"Date\"]];\r\n\t\t\tlet eleNames = ele[\"Common_Name\"]; // Ë©≤Á≠ÜÊâÄÊúâÈ≥•Á®Æ\r\n\t\t\tlet eleCounts = ele[\"Count\"]; // Ë©≤Á≠ÜÊâÄÊúâÈ≥•Á®ÆÊï∏\r\n\t\t\tfor (let i = 0; i < eleNames.length; i++) { // ÊØè‰∏ÄÈ≥•Á®Æ\r\n\t\t\t\tlet eleName = eleNames[i]; // È≥•Á®Æ\r\n\t\t\t\tlet eleCount = eleCounts[i]; // Êï∏Èáè\r\n\t\t\t\tlet objCounts = obj[\"succBirds\"][eleName]; // Â∑≤ÁôªÈåÑÊï∏Èáè\r\n\t\t\t\tif (!objCounts) { // Êú™ÁôªÈåÑÈÅé\r\n\t\t\t\t\tobj[\"succBirds\"][eleName] = [...new Array(succLocationIdx-1).fill(0), eleCount];\r\n\t\t\t\t} else { // ÂæåÁ∫åÁôªÈåÑ\r\n\t\t\t\t\tobj[\"succBirds\"][eleName] = [...objCounts, ...new Array(succLocationIdx-1-objCounts.length).fill(0), eleCount];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t}, {\"dates\": [], \"succBirds\": {}});\r\n\t// ÊâÄÊúâÈ≥•Á®ÆÊï∏ÈáèÊ™¢Êü•Ë£úÈõ∂\r\n\tlet succBirds = succRawData[\"succBirds\"];\r\n\tfor (const name of Object.keys(succBirds)) { // ÊØè‰∏ÄÈ≥•Á®Æ\r\n\t\tsuccBirds[name] = [...succBirds[name], ...new Array(succLocationNum-succBirds[name].length).fill(0)];\r\n\t}\r\n\t// Succession ÂúñË°®Ë≥áÊñô\r\n\tlet succData = {\r\n\t\tlabels: succRawData[\"dates\"], // x-axis\r\n\t\tdatasets: Object.entries(succRawData[\"succBirds\"]).reduce((arr, [name, counts]) => {\r\n\t\t\tlet color = getRandomColor(); // Èö®Ê©üÈ°èËâ≤\r\n\t\t\tlet dataset = {\r\n\t\t\t\tlabel: name,\r\n\t\t\t\tdata: counts,\r\n\t\t\t\tfill: \"start\",\r\n\t\t\t\tbackgroundColor: color.replace(\",1)\", \",.1)\"),\r\n\t\t\t\tborderColor: color,\r\n\t\t\t\tyAxisID: \"y-axis-1\"\r\n\t\t\t}\r\n\t\t\treturn [...arr, dataset];\r\n\t\t}, [])\r\n\t}\r\n\t// Succession ÂúñË°®Ë®≠ÂÆö\r\n\tlet succOptions = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"linear\",\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tid: \"y-axis-1\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tplugins: {\r\n\t\t\tzoom: {\r\n\t\t\t\tzoom: {\r\n\t\t\t\t\twheel: { // Mouse wheel\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tmodifierKey: 'ctrl' // Modifier key required for zooming via mouse wheel\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrag: { // Drag-to-zoom\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tborderColor: 'white',\r\n\t\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpinch: { // pinch\r\n\t\t\t\t\t\tenabled: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmode: 'x' // Allowed zoom directionsÔºõx, y, xy\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Succession ÈáçË®≠Á∏ÆÊîæ\r\n\tconst succRef = useRef(null);\r\n\t// Hotspot ÈúÄË¶ÅÁöÑË≥áÊñô ‰∏î ‰æùÊ¨°Êï∏ÈôçÂÜ™ÊéíÂ∫è\r\n\tlet hotRawData = sortObjectByValue(locations.reduce((obj, ele) => {\r\n\t\tlet zhLocation = ele.split(\"(\")[0]; // ‰∏≠ÊñáÂú∞Âêç\r\n\t\tif (obj.hasOwnProperty(zhLocation)) {\r\n\t\t\tobj[zhLocation] = obj[zhLocation] + 1;\r\n\t\t} else {\r\n\t\t\tobj[zhLocation] = 1;\r\n\t\t}\r\n\t\treturn obj;\r\n\t}, {}));\r\n\t// Hotspot ÂúñË°®Ë≥áÊñô\r\n\tlet hotData = {\r\n\t\tlabels: Object.keys(hotRawData), // x-axis\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: \"Âú®Âú∞È≥•Â∞é\",\r\n\t\t\t\tdata: Object.values(hotRawData), // y-axis\r\n\t\t\t\tfill: \"start\", // Â°óÊªøÈ¢®Ê†ºÔºõstart, end, origin\r\n\t\t\t\tbackgroundColor: \"rgba(255, 99, 132, .1)\",\r\n\t\t\t\tborderColor: \"rgba(255, 99, 132, 1)\",\r\n\t\t\t\tyAxisID: \"y-axis-1\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\t// Hotspot ÂúñË°®Ë®≠ÂÆö\r\n\tlet hotOptions = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"linear\",\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tid: \"y-axis-1\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tplugins: {\r\n\t\t\tzoom: {\r\n\t\t\t\tzoom: {\r\n\t\t\t\t\twheel: { // Mouse wheel\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tmodifierKey: 'ctrl' // Modifier key required for zooming via mouse wheel\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrag: { // Drag-to-zoom\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tborderColor: 'white',\r\n\t\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpinch: { // pinch\r\n\t\t\t\t\t\tenabled: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmode: 'x' // Allowed zoom directionsÔºõx, y, xy\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Hotspot ÈáçË®≠Á∏ÆÊîæ\r\n\tconst hotRef = useRef(null);\r\n\t// {2021:{1:[...],2:[...],...},2022:{...},...}\r\n\tlet mnbsEmptyData = {};\r\n\tfor (let year = dates[0][0].split('-')[0]; year <= dates[dates.length-1][0].split('-')[0]; year++) {\r\n\t\tlet mnbs = {};\r\n\t\tfor (let month = 1; month <= 12; month++) {\r\n\t\t\tmnbs[month] = [];\r\n\t\t}\r\n\t\tmnbsEmptyData[year] = mnbs;\r\n\t}\r\n\t// Monthly number of bird species ÈúÄË¶ÅÁöÑË≥áÊñô\r\n\tlet mnbsRawData = chartData.reduce((obj, ele) => {\r\n\t\tlet dateElements = ele[\"Date\"][0].split('-');\r\n\t\tlet year = parseInt(dateElements[0]);\r\n\t\tlet month = parseInt(dateElements[1]);\r\n\t\tobj[year][month] = [...obj[year][month], ...ele[\"Common_Name\"]];\r\n\t\treturn obj;\r\n\t}, mnbsEmptyData);\r\n\t// Monthly number of bird species ÂúñË°®Ë≥áÊñô\r\n\tlet mnbsData = {\r\n\t\tlabels: Array.from({length: 12}, (ele, idx) => {\r\n\t\t   return new Date(null, idx+1, null).toLocaleDateString(\"tw\", {month: \"short\"});\r\n\t\t}), // x-axis\r\n\t\tdatasets: Object.entries(mnbsRawData).reduce((arr, [year, mnbs]) => {\r\n\t\t\tlet color = getRandomColor(); // Èö®Ê©üÈ°èËâ≤\r\n\t\t\tlet dataset = { // ÊØè‰∏ÄÂπ¥ÊâÄÊúâÊúà‰ªΩË≥áÊñô\r\n\t\t\t\tlabel: year,\r\n\t\t\t\tdata: Object.values(mnbs).map(bs => (new Set(bs)).size),\r\n\t\t\t\tbackgroundColor: color.replace(\",1)\", \",.7)\"),\r\n\t\t\t\tborderColor: color,\r\n\t\t\t\tborderWidth: 2\r\n\t\t\t}\r\n\t\t\treturn [...arr, dataset];\r\n\t\t}, [])\r\n\t}\r\n\t// Monthly number of bird species ÂúñË°®Ë®≠ÂÆö\r\n\tlet mnbsOptions = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t        \tbeginAtZero: true,\r\n\t\t\t        }\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"chartTab\" className=\"container-fluid\" aria-labelledby=\"chart\">\r\n\t\t\t{/* Lifer */}\r\n\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t<div style={{position: \"relative\"}}>\r\n\t\t\t\t\t<ResetZoomButton handleResetZoom={() => handleResetZoom(liferRef)} />\r\n\t\t\t\t\t<Line data={liferData} options={liferOptions} ref={liferRef} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* Âú∞ÈªûÁöÑÈ≥•Á®ÆÊï∏Èö®ÊôÇËÆäÂåñ */}\r\n\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t{/* Succession ÂñÆÈÅ∏Âú∞Èªû */}\r\n\t\t\t\t<select\r\n\t\t\t\t\tid=\"succLocationSelect\"\r\n\t\t\t\t\tclassName=\"form-select form-select-sm\"\r\n\t\t\t\t\tonChange={handleSuccLocationChange}\r\n\t\t\t\t>\r\n\t\t\t\t{nonDupLocations.map((location, lIdx) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={`succLocationOption-${lIdx}`} value={location}>{location}</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t</select>\r\n\t\t\t\t{/* Succession */}\r\n\t\t\t\t<div style={{position: \"relative\"}}>\r\n\t\t\t\t\t<ResetZoomButton handleResetZoom={() => handleResetZoom(succRef)} />\r\n\t\t\t\t\t<Line data={succData} options={succOptions} ref={succRef} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* Hotspot */}\r\n\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t<div style={{position: \"relative\"}}>\r\n\t\t\t\t\t<ResetZoomButton handleResetZoom={() => handleResetZoom(hotRef)} />\r\n\t\t\t\t\t<Line data={hotData} options={hotOptions} ref={hotRef} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* Monthly number of bird species */}\r\n\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t<Bar data={mnbsData} options={mnbsOptions} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EBirdChartsChart;\r\n","import { useState, memo } from 'react';\r\n\r\nimport { Tabset, Tab } from 'react-rainbow-components';\r\n\r\nimport EBirdChartsMap from './EBirdChartsMap';\r\nimport EBirdChartsTimeline from './EBirdChartsTimeline';\r\nimport EBirdChartsChart from './EBirdChartsChart';\r\n\r\nconst EBirdCharts = ({ avatarIndex }) => {\r\n\t// ÈÅ∏ÊìáÁöÑÂàÜÈ†Å\r\n\tconst [selectedTab, setSelectedTab] = useState(\"map\");\r\n\tconst handleSelectedTabChange = (tabName) => {\r\n\t\tsetSelectedTab(tabName);\r\n\t}\r\n\t// ÂàÜÈ†ÅÁöÑÂÖßÂÆπ\r\n\tconst getTabContent = () => {\r\n\t\tif (selectedTab === \"map\") { // Âú∞ÂúñÂàÜÈ†Å\r\n\t\t\treturn (<EBirdChartsMap avatarIndex={avatarIndex} />);\r\n\t\t} else if (selectedTab === \"timeline\") { // ÊôÇÈñìËª∏ÂàÜÈ†Å\r\n\t\t\treturn (<EBirdChartsTimeline avatarIndex={avatarIndex} />);\r\n\t\t} else if (selectedTab === \"chart\") { // Áµ±Ë®àÂúñË°®ÂàÜÈ†Å\r\n\t\t\treturn (<EBirdChartsChart avatarIndex={avatarIndex} />);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"ebTabsetContainer\">\r\n\t\t\t<Tabset\r\n\t\t\t\tid=\"ebTabset\"\r\n\t\t\t\tactiveTabName={selectedTab} // ÂàÜÈ†ÅÂêçÂ≠óÔºõ<Tab name>\r\n\t\t\t\tfullWidth={false} // ÊòØÂê¶‰º∏Â±ï‰ΩîÊªøÁ©∫ÈñìÔºõtrue, false\r\n\t\t\t\tvariant=\"line\" // ÂàÜÈ†ÅÂ§ñËßÄÔºõcard, line\r\n\t\t\t\tonSelect={(e, tabName) => handleSelectedTabChange(tabName)}\r\n\t\t\t>\r\n\t\t\t\t{/* Áïô‰ΩçÁΩÆÁµ¶ eBirder ÊäΩÂ±úÈñãÈóú */}\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tid=\"blank\"\r\n\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\tname=\"blank\"\r\n\t\t\t\t\tariaControls=\"blankTab\"\r\n\t\t\t\t\tdisabled={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tid=\"map\" // ÂàÜÈ†ÅÂÖßÂÆπÁöÑ aria-labelledby\r\n\t\t\t\t\tlabel=\"Âú∞Âúñ\" // ÂàÜÈ†ÅÈ°ØÁ§∫ÂêçÁ®±\r\n\t\t\t\t\tname=\"map\" // Áµ¶ <Tabset onSelect> ÈÖçÂ∞çÁöÑ\r\n\t\t\t\t\tariaControls=\"mapTab\" // ÂàÜÈ†ÅÂÖßÂÆπÁöÑ id\r\n\t\t\t\t/>\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tid=\"timeline\"\r\n\t\t\t\t\tlabel=\"ÊôÇÈñìËª∏\"\r\n\t\t\t\t\tname=\"timeline\"\r\n\t\t\t\t\tariaControls=\"timelineTab\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tid=\"chart\"\r\n\t\t\t\t\tlabel=\"Áµ±Ë®àÂúñË°®\"\r\n\t\t\t\t\tname=\"chart\"\r\n\t\t\t\t\tariaControls=\"chartTab\"\r\n\t\t\t\t/>\r\n\t\t\t</Tabset>\r\n\t\t\t{/* ÂàÜÈ†ÅÂÖßÂÆπ */}\r\n\t\t\t{getTabContent()}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default memo(EBirdCharts);\r\n","import './ScrollTopArrow.css';\r\n\r\nconst ScrollTopArrow = ({showScroll, scrollToElement}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" className=\"scrollTop bi bi-arrow-up-circle-fill\" viewBox=\"0 0 16 16\" onClick={scrollToElement} style={{ display: (showScroll ? 'flex' : 'none') }}>\r\n\t\t\t<path d=\"M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z\"/>\r\n\t\t</svg>\r\n\t);\r\n}\r\n\r\nexport default ScrollTopArrow;\r\n","import { useState } from 'react';\r\n\r\nimport { Drawer } from 'react-rainbow-components';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport { infos } from './../utils/ebird-ebirders.js';\r\nimport { eBirderInfosToRainbowAvatars } from './../utils/ebEbirders_dataExtraction';\r\nimport EBirdCharts from './EBirdCharts';\r\nimport ScrollTopArrow from './../components/ScrollTopArrow';\r\nimport Footer from './../components/Footer';\r\nimport './EBird.css';\r\n\r\nconst EBird = ({ scrollToElement }) => {\r\n\t// eBirder ÊäΩÂ±úÁöÑÈñãÂêà\r\n\tconst [drawerOpen, setDrawerOpen] = useState(false);\r\n\t// ÂÖàÂæû LocalStorage Â∞ãÊâæÊòØÂê¶ÊúâÂì™‰Ωç eBirder\r\n\tconst storageAvatar = parseInt(localStorage.getItem('avatarIndex')) || 0;\r\n\t// eBirder ÂàóË°®\r\n\tconst [avatarIndex, setAvatarIndex] = useState(storageAvatar);\r\n\tconst handleAvatarIndexChange = (index) => {\r\n\t\tsetAvatarIndex(index);\r\n\t\tsetDrawerOpen(false); // ÈÅ∏ÊìáÂÆå eBirder ÂæåÔºåÊî∂Âêà Drawer\r\n\t\t/*\r\n         * localStorage ÊòØÁÄèË¶ΩÂô®Êèê‰æõÁµ¶ÂêÑÁ∂≤Á´ôÁöÑ‰∏ÄÂÄãÂÑ≤Â≠òÁ©∫Èñì\r\n         * >>> Browser > Application > Local Storage\r\n         * setItem(keyName, keyValue) / getItem(keyName) / removeItem(keyName) / clear()\r\n         */\r\n        localStorage.setItem('avatarIndex', index);\r\n\t}\r\n\tconst avatars = eBirderInfosToRainbowAvatars(handleAvatarIndexChange);\r\n\t// eBirder ÂÄã‰∫∫Ë≥áÊñô\r\n\tconst eBirderInfo = infos[avatarIndex];\r\n\t// ÊªæÂãïËá≥È†ÇÊåâÈàï\r\n\tconst [showScroll, setShowScroll] = useState(false); // È°ØÁ§∫ÁãÄÊÖã\r\n\tconst handleScrollTop = target => { // ÊîπËÆäÈ°ØÁ§∫ÁãÄÊÖã\r\n\t\tif (!showScroll && target.scrollTop > 500) { // È†ÅÈù¢Êç≤Âãï 500px ÂæåÔºåÈ°ØÁ§∫ÊåâÈàï\r\n\t\t\tsetShowScroll(true);\r\n\t\t} else if (showScroll && target.scrollTop <= 500) { // È†ÅÈù¢Êç≤ÂãïÊé•ËøëÈ†ÇÁ´ØÔºåÈö±ËóèÊåâÈàï\r\n\t\t\tsetShowScroll(false);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"h-100 px-3\" onScroll={e => {\r\n\t\t\thandleScrollTop(e.target);\r\n\t\t}}>\r\n\t\t\t<div id=\"ebDrawerContainer\">\r\n\t\t\t\t{/* eBirder ÊäΩÂ±úÈñãÈóú */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"ebDrawerBtn\"\r\n\t\t\t\t\tonClick={() => setDrawerOpen(true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tname={eBirderInfo['name']}\r\n\t\t\t\t\t\talt={eBirderInfo['name']}\r\n\t\t\t\t\t\ttitle={eBirderInfo['name']}\r\n\t\t\t\t\t\tsize=\"70\"\r\n\t\t\t\t\t\tround={true}\r\n\t\t\t\t\t\tsrc={eBirderInfo['avatar']}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* eBirder ÊäΩÂ±ú */}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tid=\"ebDrawer\"\r\n\t\t\t\t\tclassName=\"bg-dark\"\r\n\t\t\t\t\tfooter=\"\" // ÁµêÂ∞æÔºõtext, Component\r\n\t\t\t\t\theader=\"eBirders\"\r\n\t\t\t\t\thideCloseButton={false} // ÈóúÈñâÊåâÈàï(ÂèâÂèâ)\r\n\t\t\t\t\tisOpen={drawerOpen} // ÈñãÂêàÁãÄÊÖã\r\n\t\t\t\t\tsize=\"small\" // ÂØ¨Â∫¶Ôºõsmall, medium, large, full\r\n\t\t\t\t\tslideFrom=\"left\" // Âæû‰ΩïÊñπÂêëÂ±ïÈñãÔºõleft, right\r\n\t\t\t\t\tonRequestClose={() => setDrawerOpen(false)} // Âú®\"ÈªûÊìäÂèâÂèâ\"Êàñ\"Êåâ ESC\"Êàñ\"ÈªûÊìäÊäΩÂ±úÂ§ñ\"ÁöÑÂãï‰Ωú\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* eBirders */}\r\n\t\t\t\t\t{avatars}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t\t{/* ÂúñË°®ÂçÄ */}\r\n\t\t\t<EBirdCharts avatarIndex={avatarIndex} />\r\n\t\t\t{/* ÊªæÂãïËá≥È†ÇÊåâÈàï */}\r\n\t\t\t<ScrollTopArrow showScroll={showScroll} scrollToElement={() => scrollToElement(document.getElementById(\"ebTabsetContainer\"))} />\r\n\r\n\t\t\t<Footer />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default EBird;\r\n","import Avatar from 'react-avatar';\r\n\r\nimport { infos } from './ebird-ebirders.js';\r\n/*\r\n * Áî¢Áîü React Rainbow Components ‰∫∫Áâ©È†≠ÂÉèÂúñÁ§∫Ê∏ÖÂñÆ\r\n * Ëº∏Âá∫ÔºöAvatar Component ÂàóË°®\r\n */\r\nexport const eBirderInfosToRainbowAvatars = (handleAvatarIndexChange) => {\r\n\treturn (\r\n\t\t<div id=\"ebAvatars\" className=\"text-center\">\r\n\t\t\t{infos.map((info, iIdx) => { // Â∞çÊñºÊØè‰Ωç eBirder\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tkey={`ebAvatar-${iIdx}`}\r\n\t\t\t\t\t\tclassName=\"eBirder\"\r\n\t\t\t\t\t\tname={info['name']}\r\n\t\t\t\t\t\tvalue={iIdx.toString()}\r\n\t\t\t\t\t\talt={info['name']}\r\n\t\t\t\t\t\ttitle={info['name']}\r\n\t\t\t\t\t\tsize=\"100%\" // ÂúñÂÉèÂ§ßÂ∞è\r\n\t\t\t\t\t\tround={true} // border-radiusÔºõnumber, true(100%), false(0%)\r\n\t\t\t\t\t\tsrc={info['avatar']} // ËºâÂÖ•ÁÖßÁâá\r\n\t\t\t\t\t\tstyle={{padding: \"10px\"}}\r\n\t\t\t\t\t\tonClick={() => {handleAvatarIndexChange(iIdx);}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport YouTube from 'react-youtube';\r\n// ÂΩ±ÁâáÂç°ÁâáÂêÑÂÖÉÁ¥†ÁöÑ Class\r\nvar classNames = {\r\n\t\"playButton\": \"playBtn\", // Ê®°‰ªøÁöÑÊí≠ÊîæÊåâÈàï\r\n\t\"previewImage\": \"previewImg\", // È†êË¶ΩÂúñÁâá\r\n\t\"iframe\": \"ytVideo\" // YouTube ÂΩ±ÁâáÂÆπÂô®\r\n}\r\n\r\nconst YoutubeVideo = ({ videoId, videoLid, handleVideoPlay, handleVideoStop }) => {\r\n\t// ËºâÂÖ•ÁúüÊ≠£ÁöÑ YouTube ÂΩ±Áâá\r\n\tconst [showVideo, setShowVideo] = useState(false);\r\n\tconst handleShowVideoChange = () => {\r\n\t\tsetShowVideo(true);\r\n\t}\r\n\t/*\r\n\t * YouTube API ÁöÑË®≠ÂÆöÈÅ∏È†Ö\r\n\t * https://developers.google.com/youtube/player_parameters\r\n\t */\r\n\tconst opts = {\r\n\t\tplayerVars: {\r\n\t\t\tautoplay: 1, // 0, 1\r\n\t\t\tcolor: \"red\", // ËßÄÁúãÈÄ≤Â∫¶Ê¢ùÈ°èËâ≤Ôºöred, white\r\n\t\t\tcontrols: 1, // Êí≠ÊîæÂô®ÊéßÂà∂È°ØÁ§∫Ôºö0, 1\r\n\t\t\tlist: (videoLid ? videoLid : undefined), // Êí≠ÊîæÊ∏ÖÂñÆ ID\r\n\t\t\tlistType: \"playlist\" // Êí≠ÊîæÊ∏ÖÂñÆÈÅ∏ÂñÆ\r\n\t\t}\r\n\t}\r\n\t// È†êË®≠ÁÇ∫ÂúñÁâáÔºåÈªûÈÅ∏ÂæåËºâÂÖ•ÁúüÊ≠£ÂΩ±Áâá\r\n\treturn !showVideo ?\r\n\t\tReact.createElement(\"div\", {\r\n\t\t\tclassName: classNames.previewImage,\r\n\t\t\tstyle: { // ÂúñÁâáÁï´Ë≥™Ôºöhqdefault, mqdefault, sddefault, default, maxresdefault\r\n\t\t\t\tbackgroundImage: \"url(https://img.youtube.com/vi/\" + videoId + \"/hqdefault.jpg)\"\r\n\t\t\t},\r\n\t\t\tonClick: handleShowVideoChange\r\n\t\t}, React.createElement(\"div\", {\r\n\t\t\tclassName: classNames.playButton\r\n\t\t}))\r\n\t\t:\r\n\t\t<YouTube\r\n\t\t\tvideoId={videoId}\r\n\t\t\tid={videoId}\r\n\t\t\tclassName={classNames.iframe} // ÁÇ∫‰∫ÜÈôêÂà∂È´òÂ∫¶\r\n\t\t\topts={opts}\r\n\t\t\tonPlay={e => handleVideoPlay(e.target)}\r\n\t\t\tonPause={e => handleVideoStop(e.target)}\r\n\t\t\tonEnd={e => handleVideoStop(e.target)}\r\n\t\t/>\r\n}\r\n\r\nexport default YoutubeVideo;\r\n","import { Select, MultiSelect, Option } from 'react-rainbow-components';\r\nimport FadeIn from 'react-fade-in';\r\n\r\nimport youTubeVideosData from './youtube-videos.json';\r\nimport YoutubeVideo from './../components/YoutubeVideo';\r\nimport { arrayToChunks } from './tools.js';\r\n/*\r\n * ÂèñÂæóÊâÄÊúâÂΩ±ÁâáÁöÑÊüêÈ†ÖË≥áË®ä\r\n * key: ÂΩ±ÁâáË≥áË®äÊ¨Ñ‰Ωç\r\n * duplicate: Èáç‰∏çÈáçË§á\r\n * chunk: ÈÖçÂêà BS Grid System ÈÄ≤Ë°åË≥áÊñôÂàÜÁµÑ\r\n * (chunk=false) Ëº∏Âá∫Ôºö[a, b, c, ...]\r\n * (chunk=true) Ëº∏Âá∫Ôºö[[a, b, c], [...], ...]\r\n */\r\nexport const getItems = (key, duplicate=false, chunk = false) => {\r\n\t// Êî∂ÈõÜÊâÄÊúâË≥áÊñô\r\n\tlet items = youTubeVideosData.reduce((arr, ele) => \r\n\t\tarr.concat([ele[key]])\r\n\t, []);\r\n\t// Âèñ‰∏çÈáçË§á\r\n\tif (!duplicate) {\r\n\t\titems = [...(new Set(items))];\r\n\t}\r\n\t// Ë≥áÊñôÂàÜÁµÑ\r\n\tif (chunk) {\r\n\t\titems = arrayToChunks(items, 6);\r\n\t}\r\n\treturn items;\r\n}\r\n/*\r\n * Áî¢Áîü React Rainbow Components ÈÅ∏ÂñÆÁöÑÈÅ∏È†Ö\r\n * items: ‰∏ÄÈöéÈô£ÂàóË≥áÊñô\r\n * Ëº∏Âá∫ÔºöÁî¢ÁîüÈÅ∏È†ÖÊâÄÈúÄË≥áÊñô\r\n */\r\nexport const itemsToRainbowSelectOptions = (items, id, label, value, onChange, hasDefault=false) => {\r\n\tlet allOption = { value: \"*ÂÖ®ÈÉ®\", label: \"*ÂÖ®ÈÉ®\" }; // È†êË®≠ÂÄº\r\n\tlet options = items.reduce((arr, ele) => \r\n\t\tarr.concat([{ value: ele, label: ele }])\r\n\t, []);\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tid={id}\r\n\t\t\tlabel={label}\r\n\t\t\tlabelAlignment=\"left\"\r\n\t\t\thideLabel={false}\r\n\t\t\toptions={hasDefault ? [...options, allOption] : options}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={onChange}\r\n\t\t\tvariant=\"default\" // ÁØ©ÈÅ∏Ê°Ü styleÔºõdefault, shaded\r\n\t\t/>\r\n\t);\r\n}\r\n/*\r\n * Áî¢Áîü React Rainbow Components Â§öÈÅ∏ÈÅ∏ÂñÆÁöÑÈÅ∏È†Ö\r\n * items: ‰∏ÄÈöéÈô£ÂàóË≥áÊñô\r\n * Ëº∏Âá∫ÔºöÁî¢ÁîüÂ§öÈÅ∏ÈÅ∏È†Ö\r\n */\r\nexport const itemsToRainbowMultiSelectOptions = (items, id, label, value, onChange, placeholder) => {\r\n\treturn (\r\n\t\t<MultiSelect\r\n\t\t\tid={id}\r\n\t\t\tlabel={label}\r\n\t\t\tlabelAlignment=\"left\"\r\n\t\t\thideLabel={false}\r\n\t\t\tisLoading={false} // ÈÅ∏È†ÖËºâÂÖ•‰∏≠ÂúñÁ§∫\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={onChange}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tvariant=\"default\" // ÁØ©ÈÅ∏Ê°Ü styleÔºõdefault, chip, bare\r\n\t\t\tchipVariant=\"brand\" // ÈÅ∏ÊìáÁµêÊûú styleÔºõbase, neutral, outline-brand, brand\r\n\t\t\tshowCheckbox\r\n\t\t>\r\n\t\t\t{items.map((item, iIdx) => (\r\n\t\t\t\t<Option key={`ytMultiSelect-${iIdx}`} name={`option-${iIdx}`} label={item} value={item} />\r\n\t\t\t))}\r\n\t\t</MultiSelect>\r\n\t);\r\n}\r\n/*\r\n * Âª∫Á´ãÊâÄÊúâÂΩ±ÁâáÂç°Áâá\r\n * vids: ÊâÄÊúâÂΩ±Áâá ID\r\n * dates: ÊâÄÊúâÂΩ±ÁâáÊó•Êúü\r\n * locations: ÊâÄÊúâÂΩ±ÁâáÂú∞Èªû\r\n * birds: ÊâÄÊúâÂΩ±ÁâáÈ≥•Á®Æ\r\n * Ëº∏Âá∫ÔºöResponsive YouTube Video Cards\r\n */\r\nexport const vidsToVideoCards = (vids, dates, locations, birds, handleVideoPlay, handleVideoStop) => { // Êö´ÊôÇ birds/datesÔºåÂèØÊîπÂÖ∂‰ªñÂÅö header\r\n\treturn (\r\n\t\t<FadeIn className=\"d-flex flex-row flex-wrap justify-content-center py-2\" childClassName=\"ytVideoContainer m-2\" delay=\"77\" transitionDuration=\"777\" wrapperTag=\"div\" childTag=\"div\" visible={true}>\r\n\t\t{/* ÊâÄÊúâÂΩ±ÁâáÁÇ∫‰∫ÜÁôæËëâÁ™óÂãïÁï´ÊîæÂú®‰∏ÄËµ∑ */}\r\n\t\t{vids.map((vid, vIdx) => {\r\n\t\t\tlet date = dates[vIdx];\r\n\t\t\tlet location = locations[vIdx];\r\n\t\t\tlet bird = birds[vIdx];\r\n\t\t\treturn (\r\n\t\t\t\t<div key={`ytVideo-${vIdx}`} className={`${date} ${location} ${bird}`}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\"> {/* ÂΩ±ÁâáÊ®ôÈ°å */}\r\n\t\t\t\t\t\t\t{date + \" / \" + location + \" / \" + bird}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body p-0\"> {/* ÂΩ±ÁâáÂÖßÂÆπ */}\r\n\t\t\t\t\t\t\t<YoutubeVideo videoId={vid} videoLid=\"\" handleVideoPlay={handleVideoPlay} handleVideoStop={handleVideoStop} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t})}\r\n\t\t</FadeIn>\r\n\t);\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport { DatePicker } from 'react-rainbow-components';\r\n\r\nimport { getItems, itemsToRainbowMultiSelectOptions, vidsToVideoCards } from './../utils/ytVideos_dataExtraction';\r\nimport ScrollTopArrow from './../components/ScrollTopArrow';\r\nimport Footer from './../components/Footer';\r\nimport './YouTube.css';\r\n// ÁØ©ÈÅ∏ÂèÉÊï∏ÁØ©ÈÅ∏ÂÄº\r\nvar userParameters = {\r\n\tuserDates: [],\r\n\tuserLocations: [],\r\n\tuserBirds: []\r\n}\r\n// Rainbow DatePicker ÁöÑËº∏Âá∫Á∞°ÂåñÁÇ∫ÂÄºÈô£Âàó\r\nconst datePickerOutputToValues = datePickerOutput => {\r\n\treturn datePickerOutput.reduce((arr, ele) => {\r\n\t\tlet localeDateStrings = ele.toLocaleDateString('zh-tw').split('/'); // 2021/7/20\r\n\t\tlet year = localeDateStrings[0]; // 2021\r\n\t\tlet month = localeDateStrings[1].padStart(2, '0'); // 07\r\n\t\tlet day = localeDateStrings[2].padStart(2, '0'); // 20\r\n\t\treturn arr.concat([`${year}-${month}-${day}`]); // 2021-07-20\r\n\t}, []);\r\n}\r\n// Rainbow MultiSelect ÁöÑËº∏Âá∫Á∞°ÂåñÁÇ∫ÂÄºÈô£Âàó\r\nconst multiSelectOutputToValues = multiSelectOutput => {\r\n\treturn multiSelectOutput.reduce((arr, ele) => {\r\n\t\treturn arr.concat([ele.value]);\r\n\t}, []);\r\n}\r\n// Êç≤ÂãïÈ†ÅÈù¢Á´ãÂç≥Êö´ÂÅúÊâÄÊúâÊí≠Êîæ‰∏≠ÁöÑÂΩ±Áâá\r\nconst pauseVideos = playingVideos => {\r\n\tfor (let i = 0; i < playingVideos.length; i++) {\r\n\t\tplayingVideos[i].pauseVideo();\r\n\t}\r\n}\r\n// Êî∂ÈõÜÊí≠Êîæ‰∏≠ÁöÑÂΩ±Áâá\r\nvar playingVideos = []; // Êí≠Êîæ‰∏≠ÁöÑÂΩ±ÁâáÊ∏ÖÂñÆ\r\nconst handleVideoPlay = target => { // Áï∂ÂΩ±ÁâáÊí≠Êîæ\r\n\tplayingVideos.push(target); // Âä†ÂÖ•Êí≠Êîæ‰∏≠ÂΩ±Áâá\r\n}\r\nconst handleVideoStop = target => { // Áï∂ÂΩ±ÁâáÊö´ÂÅúÊàñÁµêÊùü\r\n\tlet index = playingVideos.indexOf(target);\r\n\tplayingVideos.splice(index, 1); // ÂæûÊí≠Êîæ‰∏≠ÂΩ±ÁâáÊ∏ÖÂñÆÁßªÈô§\r\n}\r\n\r\nconst YouTube = ({ scrollToElement }) => {\r\n\t// Ëã•Áé©ÈÅéÊ≠§È†ÅÈù¢ÂæåÔºåÂàáÊèõËá≥ÂÖ∂‰ªñÂàÜÈ†ÅÂÜçÂàáÂõû‰æÜÔºåÁØ©ÈÅ∏ÂÄºÊ≠∏Èõ∂\r\n\tconst setUserParameters = () => {\r\n\t\tuserParameters = {\r\n\t\t\tuserDates: [],\r\n\t\t\tuserLocations: [],\r\n\t\t\tuserBirds: []\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => { // ÂàùÊ¨°ÈÄ≤ÂÖ•Ë©≤ÂàÜÈ†ÅÊôÇÔºåÊää‰πãÂâçÁØ©ÈÅ∏Ê≠∑Âè≤Ê∏ÖÈô§\r\n\t\tsetUserParameters();\r\n\t}, []);\r\n\t// ‰ΩøÁî®ËÄÖË®≠ÂÆöÊâÄÊúâÁØ©ÈÅ∏ÂèÉÊï∏ÁöÑÂÄº\r\n\tconst handleUserChange = () => {\r\n\t\tlet { userDates, userLocations, userBirds } = userParameters;\r\n\t\tlet filterVids = [], filterDates = [], filterLocations = [], filterBirds = [];\r\n\t\tfor (let i = 0; i < fullVids.length; i++) { // ÂæûÊâÄÊúâÂΩ±Áâá‰æÜÁØ©ÈÅ∏\r\n\t\t\tlet fullVid = fullVids[i], fullDate = fullDates[i], fullLocation = fullLocations[i], fullBird = fullBirds[i];\r\n\t\t\tlet fullDateTime = new Date(fullDate).getTime();\r\n\t\t\t// Date Object ÊØîËºÉÁî® getTime()ÔºõÊúâÊôÇÈñìÈªûËàáÊôÇÈñìÂçÄÈñì\r\n\t\t\tlet booleanDate = !userDates.length || (userDates.length === 1 && fullDateTime === new Date(userDates[0]).getTime()) || (userDates.length === 2 && new Date(userDates[1]).getTime() >= fullDateTime && fullDateTime >= new Date(userDates[0]).getTime());\r\n\t\t\t // (Ëã•ÁÑ°Ë®≠ÂÆöÁØ©ÈÅ∏ÂâáÈÄöÈÅé || Ëã•ÊúâÂâáÁØ©ÈÅ∏)\r\n\t\t\tlet booleanLocation = (!userLocations.length || userLocations.includes(fullLocation));\r\n\t\t\tlet booleanBird = (!userBirds.length || userBirds.includes(fullBird));\r\n\t\t\tif (booleanDate && booleanLocation && booleanBird) {\r\n\t\t\t\tfilterVids.push(fullVid);\r\n\t\t\t\tfilterDates.push(fullDate);\r\n\t\t\t\tfilterLocations.push(fullLocation);\r\n\t\t\t\tfilterBirds.push(fullBird);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Á∂ìÈÅéÁØ©ÈÅ∏ÂæåÂâ©‰∏ãÁöÑÂΩ±Áâá\r\n\t\tlet filterVideoCards = vidsToVideoCards(filterVids, filterDates, filterLocations, filterBirds, handleVideoPlay, handleVideoStop);\r\n\t\tsetVideoCards(filterVideoCards);\r\n\t}\r\n\t// ÁØ©ÈÅ∏ÂèÉÊï∏ÔºöÊó•Êúü\r\n\tconst [dateRange, setDateRange] = useState(new Date()); // ÂñÆÈÅ∏Êó•ÊúüÊàñÊó•ÊúüÂçÄÈñì\r\n\tconst handleDateRangeChange = userDateArray => {\r\n\t\tsetDateRange(userDateArray); // Êõ¥Êñ∞Êó•ÊúüÁØ©ÈÅ∏ÂÄº(Áâ©‰ª∂Èô£Âàó)\r\n\t\tuserParameters = { // Êõ¥Êñ∞Êó•ÊúüÁØ©ÈÅ∏ÂÄº(ÂÄºÈô£Âàó)\r\n\t\t\t...userParameters,\r\n\t\t\tuserDates: datePickerOutputToValues(userDateArray)\r\n\t\t}\r\n\t\thandleUserChange(); // Êõ¥Êñ∞Á¨¶ÂêàÁöÑÂΩ±Áâá\r\n\t}\r\n\t// ÁØ©ÈÅ∏ÂèÉÊï∏ÔºöÂú∞Èªû\r\n\tconst [locations, setLocations] = useState([]); // Â§öÈÅ∏Âú∞ÈªûÊ∏ÖÂñÆ\r\n\tconst handleLocationsChange = userLocationObjects => {\r\n\t\tsetLocations(userLocationObjects); // Êõ¥Êñ∞Âú∞ÈªûÁØ©ÈÅ∏ÂÄº(Áâ©‰ª∂Èô£Âàó)\r\n\t\tuserParameters = { // Êõ¥Êñ∞Âú∞ÈªûÁØ©ÈÅ∏ÂÄº(ÂÄºÈô£Âàó)\r\n\t\t\t...userParameters,\r\n\t\t\tuserLocations: multiSelectOutputToValues(userLocationObjects)\r\n\t\t}\r\n\t\thandleUserChange(); // Êõ¥Êñ∞Á¨¶ÂêàÁöÑÂΩ±Áâá\r\n\t}\r\n\tconst listLocations = getItems('location'); // ‰∏çÈáçË§áÂú∞Èªû\r\n\tconst locationMultiSelect = itemsToRainbowMultiSelectOptions(listLocations, \"ytLocationMultiSelect\", \"Âú∞Èªû\", locations, handleLocationsChange, \"Ë≥ûÈ≥•Âú∞Èªû\"); // Âú∞ÈªûÁØ©ÈÅ∏ÈÅ∏È†Ö\r\n\t// ÁØ©ÈÅ∏ÂèÉÊï∏ÔºöÈ≥•Á®Æ\r\n\tconst [birds, setBirds] = useState([]); // Â§öÈÅ∏È≥•Á®ÆÊ∏ÖÂñÆ\r\n\tconst handleBirdsChange = userBirdObjects => {\r\n\t\tsetBirds(userBirdObjects); // Êõ¥Êñ∞È≥•Á®ÆÁØ©ÈÅ∏ÂÄº(Áâ©‰ª∂Èô£Âàó)\r\n\t\tuserParameters = { // Êõ¥Êñ∞È≥•Á®ÆÁØ©ÈÅ∏ÂÄº(ÂÄºÈô£Âàó)\r\n\t\t\t...userParameters,\r\n\t\t\tuserBirds: multiSelectOutputToValues(userBirdObjects)\r\n\t\t}\r\n\t\thandleUserChange(); // Êõ¥Êñ∞Á¨¶ÂêàÁöÑÂΩ±Áâá\r\n\t}\r\n\tconst listBirds = getItems('bird'); // ‰∏çÈáçË§áÈ≥•Á®Æ\r\n\tconst birdMultiSelect = itemsToRainbowMultiSelectOptions(listBirds, \"ytBirdMultiSelect\", \"È≥•Á®Æ\", birds, handleBirdsChange, \"ËßÄË≥ûÈ≥•Á®Æ\"); // È≥•Á®ÆÁØ©ÈÅ∏ÈÅ∏È†Ö\r\n\t// ÂΩ±ÁâáÂàóË°®\r\n\tconst fullVids = getItems('vid', true); // ÊâÄÊúâÈáçË§áÂΩ±Áâá ID\r\n\tconst fullDates = getItems('date', true); // ÊâÄÊúâÈáçË§áÊó•Êúü\r\n\tconst fullLocations = getItems('location', true); // ÊâÄÊúâÈáçË§áÂú∞Èªû\r\n\tconst fullBirds = getItems('bird', true); // ÊâÄÊúâÈáçË§áÈ≥•Á®Æ\r\n\tconst fullVideos = vidsToVideoCards(fullVids, fullDates, fullLocations, fullBirds, handleVideoPlay, handleVideoStop); // ÊâÄÊúâÈáçË§áÂΩ±Áâá\r\n\tconst [videoCards, setVideoCards] = useState(fullVideos);\r\n\t// ÊªæÂãïËá≥È†ÇÊåâÈàï\r\n\tconst [showScroll, setShowScroll] = useState(false); // È°ØÁ§∫ÁãÄÊÖã\r\n\tconst handleScrollTop = target => { // ÊîπËÆäÈ°ØÁ§∫ÁãÄÊÖã\r\n\t\tif (!showScroll && target.scrollTop > 500) { // È†ÅÈù¢Êç≤Âãï 500px ÂæåÔºåÈ°ØÁ§∫ÊåâÈàï\r\n\t\t\tsetShowScroll(true);\r\n\t\t} else if (showScroll && target.scrollTop <= 500) { // È†ÅÈù¢Êç≤ÂãïÊé•ËøëÈ†ÇÁ´ØÔºåÈö±ËóèÊåâÈàï\r\n\t\t\tsetShowScroll(false);\r\n\t\t}\r\n\t}\r\n\t// ÊúÄÊñ∞Êó•Êúü‰ΩúÁÇ∫Êó•ÊúüÁØ©ÈÅ∏‰∏äÈôê\r\n\tconst latestDateYMD = fullDates[0][0].split('-');\r\n\tconst latestYear = parseInt(latestDateYMD[0]);\r\n\tconst latestMonth = parseInt(latestDateYMD[1]);\r\n\tconst latestDay = parseInt(latestDateYMD[2]);\r\n\r\n\treturn (\r\n\t\t<main className=\"h-100\" onScroll={e => {\r\n\t\t\thandleScrollTop(e.target);\r\n\t\t\tpauseVideos(playingVideos);\r\n\t\t}}>\r\n\t\t\t{/* ÁØ©ÈÅ∏ÂèÉÊï∏ÂçÄÂüü */}\r\n\t\t\t<div className=\"sortPanel w-100 d-inline-flex justify-content-evenly pb-3 sticky-top row\">\r\n\t\t\t\t<div className=\"col-sm-4 d-inline-flex\">\r\n\t\t\t\t\t{/* Êó•ÊúüÈÅ∏ÊìáÂô® */}\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tid=\"ytDatePicker\"\r\n\t\t\t\t\t\tformatStyle=\"medium\" // È°ØÁ§∫ÊñºÊ°ÜÊ†º‰∏≠ÁöÑÊó•ÊúüÊ†ºÂºèÔºõsmall, medium, large\r\n\t\t\t\t\t\tlabel=\"Êó•Êúü\" // Ê®ôÈ°å\r\n\t\t\t\t\t\tlabelAlignment=\"left\" // Ê®ôÈ°å‰ΩçÁΩÆÔºõleft, center, right\r\n\t\t\t\t\t\thideLabel={false} // Ê®ôÈ°åÈ°ØÁ§∫Ôºõboolean\r\n\t\t\t\t\t\tisCentered={true} // Ê°ÜÊ†º‰∏≠ÁöÑÊèêÁ§∫‰ΩçÁΩÆÔºõboolean\r\n\t\t\t\t\t\tlocale=\"tw\" // Âú∞ÂçÄÔºõÈ†êË®≠ÁÇ∫ÁÄèË¶ΩÂô®Ë™ûË®Ä\r\n\t\t\t\t\t\tmaxDate={new Date(latestYear, latestMonth-1, latestDay)} // ‰æùÁÖß YouTube Ë≥ûÈ≥•Á¥ÄÈåÑÊúÄÊñ∞ÂΩ±ÁâáÊó•Êúü\r\n\t\t\t\t\t\tminDate={new Date(2020, 10, 26)} // Á¨¨‰∏ÄÈÉ®ÂΩ±ÁâáÊó•Êúü\r\n\t\t\t\t\t\tonChange={value => handleDateRangeChange(value)} // Êõ¥Êñ∞Êó•ÊúüÁãÄÊÖã\r\n\t\t\t\t\t\tplaceholder=\"ÂñÆ‰∏ÄÊó•Êúü Êàñ Êó•ÊúüÂçÄÈñì\" // Ê°ÜÊ†º‰∏≠ÁöÑÊèêÁ§∫ÂÖßÂÆπ\r\n\t\t\t\t\t\tselectionType=\"range\" // Êó•ÊúüÊ®°ÂºèÔºõsingle, range\r\n\t\t\t\t\t\tvalue={dateRange} // Êó•ÊúüÁöÑÂÄº\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div id=\"ytDatePickerDelBtn\" onClick={() => {handleDateRangeChange([]);}}>\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"rgba(1,182,245,1)\" className=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t\t<path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n\t\t\t\t\t\t\t<path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4\">\r\n\t\t\t\t\t{locationMultiSelect}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4\">\r\n\t\t\t\t\t{birdMultiSelect}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* ÂΩ±ÁâáÂçÄÂüü */}\r\n\t\t\t<div id=\"ytVideosContainer\">\r\n\t\t\t\t{videoCards}\r\n\t\t\t</div>\r\n\t\t\t{/* ÊªæÂãïËá≥È†ÇÊåâÈàï */}\r\n\t\t\t<ScrollTopArrow showScroll={showScroll} scrollToElement={() => scrollToElement(document.getElementById(\"ytVideosContainer\"))} />\r\n\r\n\t\t\t<Footer />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default YouTube;\r\n","const Photos = () => {\r\n\treturn (\r\n\t\t<main className=\"main main-no-content text-white\">\r\n\t\t\tWelcome to my photos!\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Photos;","const Records = () => {\r\n\treturn (\r\n\t\t<main className=\"main main-no-content text-white\">\r\n\t\t\tWelcome to my records!\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Records;","const About = () => {\r\n\treturn (\r\n\t\t<main className=\"h-100\">\r\n\t\t\t\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default About;\r\n","import {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRoute\r\n} from 'react-router-dom';\r\n\r\nimport Layout from './Layout';\r\n\r\nimport Home from './views/Home';\r\nimport EBird from './views/EBird';\r\nimport YouTube from './views/YouTube';\r\nimport Photos from './views/Photos';\r\nimport Records from './views/Records';\r\nimport About from './views/About';\r\n\r\nconst RootRouter = () => {\r\n\t// È†ÅÈù¢ÊªæÂãïËá≥ÊüêÂÖÉÁ¥†\r\n\tconst scrollToElement = target => {\r\n\t\ttarget.scrollIntoView({ behavior: 'smooth' }); // Âπ≥ÊªëÂú∞ÊªæÂãïÂà∞ÂèØË¶ã\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Layout> {/* ÊâÄÊúâÈ†ÅÈù¢ÁöÑÊ®°Êùø */}\r\n\t\t\t\t<Switch> {/* ÂåπÈÖçË∑ØÂæëËºâÂÖ•Â∞çÊáâÂàÜÈ†ÅÂÖÉ‰ª∂ */}\r\n\t\t\t\t\t<Route exact path=\"/bird-watching\" component={Home} />\r\n\t\t\t\t\t<Route exact path=\"/bird-watching/ebird\" component={() => \r\n\t\t\t\t\t\t<EBird scrollToElement={scrollToElement} />\r\n\t\t\t\t\t} />\r\n\t\t\t\t\t<Route exact path=\"/bird-watching/youtube\" component={() => \r\n\t\t\t\t\t\t<YouTube scrollToElement={scrollToElement} />\r\n\t\t\t\t\t} />\r\n\t\t\t\t\t<Route exact path=\"/bird-watching/photos\" component={Photos} />\r\n\t\t\t\t\t<Route exact path=\"/bird-watching/records\" component={Records} />\r\n\t\t\t\t\t<Route exact path=\"/bird-watching/about\" component={About} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</Layout>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nexport default RootRouter;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n\nimport RootRouter from './router';\n\nimport './index.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport '../node_modules/leaflet/dist/leaflet.css';\nimport '../node_modules/react-leaflet-markercluster/dist/styles.min.css';\n//import 'leaflet-defaulticon-compatibility';\n\nimport '../node_modules/react-vertical-timeline-component/style.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <RootRouter /> {/* ËΩâÊèõÈ†ÅÈù¢ÂàÜÊµÅÂô® */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}